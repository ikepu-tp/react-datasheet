"use strict";const l=require("react"),V=require("../DefaultTheme/index.js");function v({data:s,theme:o,headers:u,style:d,updateData:g}){const t=l.useRef(s),[i,f]=l.useState(V(o)),[S,y]=l.useState(u||{}),[r,c]=l.useState(d||"");function a(e,n=void 0){g&&g(t.current,n||T(e,t.current))}function D(e){const n=JSON.parse(JSON.stringify(t.current));t.current=e,a(n)}function R(e,n,h){const m=JSON.parse(JSON.stringify(t.current));t.current[e]||(t.current[e]=[]),t.current[e][n]=h,a(m,[{oldValue:m[e]?m[e][n]:void 0,newValue:h,rowIndex:e,columnIndex:n}])}function p(e,n){const h=JSON.parse(JSON.stringify(t.current));t.current[e]=n,a(h)}function J(e){f({...e})}function N(e){y({...e})}function O(e){c(e)}return{data:t.current,changeData:D,updateCellData:R,updateRowData:p,theme:i,changeTheme:J,headers:S,changeHeaders:N,style:r,changeStyle:O}}function T(s,o){const u=[],d=Math.max(s.length,o.length);return Array.from({length:d}).forEach((g,t)=>{const i=s[t]||[],f=o[t]||[],S=Math.max(i.length,f.length);Array.from({length:S}).forEach((y,r)=>{const c=i[r],a=f[r];c!==a&&u.push({oldValue:c!==void 0?c:void 0,newValue:a!==void 0?a:void 0,rowIndex:t,columnIndex:r})})}),u}module.exports=v;
